<!doctype html>
<html lang="en">
    <head>
        <title>SyringePump</title>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <!-- Bootstrap datetimepickerCSS -->
        <link rel="stylesheet" href="css/bootstrap-datetimepicker.min.css">
        <!-- FontAwesome CSS -->
        <link rel="stylesheet" href="css/fontawesome-all.min.css">
        <!-- SyringePump CSS -->
        <link rel="stylesheet" href="css/syringepump.css">
    </head>
    <body>
        <!-- templates -->
        <script id="template_input_number" type="text/x-jsrender">
            <div class="form-group" id="form_group_{{:id}}">
                <div class="input-group" id="input_group_{{:id}}">
                    <div class="input-group-prepend">
                        <label class="input-group-text" for="input_{{:id}}" style="width: {{:label_width}}px;" id="input_label_{{:id}}">{{:label}}</label>
                    </div>
                    <input type="number" class="form-control" step="{{:step}}" value="{{:value}}" min="{{:min}}" max="{{:max}}" id="input_{{:id}}">
                    <div class="input-group-append">
                        <label class="input-group-text" for="input_{{:id}}" style="width: {{:unit_width}}px;" id="input_unit_{{:id}}">{{:unit}}</label>
                    </div>
                </div>
            </div>
        </script>
        
        <br>
        <!-- Insert Syringe Modal page -->
        <div class="modal fade" tabindex="-1" role="dialog" id="modal_insert">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Insert syringe</h5>
                        <!--button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button-->
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text" style="width: 90px;">Syringe</label>
                                </div>
                                <select class="custom-select" id="input_syringe">
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <label class="input-group-text" style="width: 90px;">Isotope</label>
                                </div>
                                <select class="custom-select" id="input_isotope">
                                    <option>None</option>
                                </select>
                            </div>
                        </div>
                        <div class="collapse" id="collapse_activity">
                            <div class="form-group">
                                <div class="input-group">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width: 90px;">A<sub>0</sub>&nbsp;(MBq)</label>
                                    </div>
                                    <input type="number" class="form-control" min="0" name="Delay" id="input_a0" placeholder="0">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group date" id="input_group_t0">
                                    <div class="input-group-prepend">
                                        <label class="input-group-text" style="width: 90px;">T<sub>0</sub>&nbsp;(time)</label>
                                    </div>
                                    <input type="text" class="form-control" id="input_t0">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-sm btn-primary" id="button_insert_apply">Apply and move</button>
                        <button type="button" class="btn btn-sm btn-secondary" data-dismiss="modal">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Configuration Modal page -->
        <div class="modal fade" tabindex="-1" role="dialog" id="modal_config">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Configuration</h5>
                    </div>
                    <div class="modal-body" id="modal_config_body">
                    </div>
                    <div class="modal-footer">
                            <button type="button" class="btn btn-sm btn-primary" id="button_config_ok" data-dismiss="modal">Ok</button>
                            <button type="button" class="btn btn-sm btn-secondary" id="button_config_cancel" data-dismiss="modal">Cancel</button>
                        </div>
                </div>
            </div>
        </div>
        <!-- Pump 1 container -->
        <div class="container border border-dark rounded" id="container_pumpA" style="width: 380px;">
            <div class="row border-bottom bg-primary border-dark text-light">
                <div class="col">
                    <h2><center>Pump A</center></h2>
                </div>
            </div>
            <br>
            <div class="row form-group">
                <div class="col">
                    <div class="btn-group" role="group" tabindex="1" id="button_group_move" aria-label="">
                        <button type="button" class="btn btn-default" title="Move in (hold)" id="button_in_move" data-tooltip="tooltip" data-placement="top"><span class="fas fa-angle-double-up"></span></button>
                        <button type="button" class="btn btn-default" title="Nudge in" id="button_in_nudge" data-tooltip="tooltip" data-placement="top"><span class="fas fa-angle-up"></span></button>
                        <button type="button" class="btn btn-default" title="Start" id="button_start" data-tooltip="tooltip" data-placement="top"><span class="fas fa-play"></span></button>
                        <button type="button" class="btn btn-default" title="Nudge out" id="button_out_nudge" data-tooltip="tooltip" data-placement="top"><span class="fas fa-angle-down"></span></button>
                        <button type="button" class="btn btn-default" title="Move out (hold)" id="button_out_move" data-tooltip="tooltip" data-placement="top"><span class="fas fa-angle-double-down"></span></button>
                    </div>
                </div>
                <div class="col">
                    <div class="btn-group float-right" role="group" aria-label="">
                        <button type="button" class="btn btn-default" title="Home" id="button_home" data-tooltip="tooltip" data-placement="top"><span class="fas fa-home"></span></button>
                        <button type="button" class="btn btn-default" title="Insert syringe" id="button_insert" data-toggle="modal" data-backdrop="static" data-target="#modal_insert" data-tooltip="tooltip" data-placement="top"><span class="fas fa-syringe"></span></button>
                        <button type="button" class="btn btn-default" title="Configuration" id="button_config" data-toggle="modal" data-backdrop="static" data-target="#modal_config" data-tooltip="tooltip" data-placement="top"><span class="fas fa-cog"></span></button>
                    </div>
                </div>
    
            </div>
        
            <div class="row form-group">
                <div class="col-sm">
                    <div class="progress" style="height: 28px;">
                        <div class="progress-bar progress-bar-striped bg-primary" id="volume_progress_target" role="progressbar"
                            style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        <div class="progress-bar progress-bar-animated progress-bar-striped bg-warning" id="volume_progress_current" role="progressbar"
                            style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
            </div>
            <div class="row form-group">
                <div class="col">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <label class="input-group-text" style="width: 80px;" id="time_label">Delay</label>
                        </div>
                        <input type="number" class="form-control" min="0" max="3600" style="text-align:right;" name="Delay" id="delay_input" aria-describedby="helpId" placeholder="0">
                        <div class="input-group-append">
                            <button class="btn btn-secondary" style="width: 60px;" type="button" id="delay_unit">s</button>
                            <button class="btn btn-secondary dropdown-toggle dropdown-toggle-split" type="button" id="delay_dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                            <div class="dropdown-menu bg-light dropdown-menu-right" aria-labelledby="delay_dropdown">
                                <a class="dropdown-item" href="#" id="delay_unit_s">Delay (s)</a>
                                <a class="dropdown-item" href="#" id="delay_unit_min">Delay (min)</a>
                                <a class="dropdown-item" href="#" id="delay_unit_datetime">Time (date-time)</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row form-group">
                <div class="col">
                    <div class="input-group">
                            <div class="input-group-prepend">
                                <label class="input-group-text" style="width: 80px;" id="speed_label">Speed</label>
                            </div>
                            <input type="number" class="form-control" min="0" max="1000" style="text-align:right;" name="Speed" id="speed_input" aria-describedby="helpId" placeholder="0">
                            <div class="input-group-append">
                                <button class="btn btn-secondary" style="width: 60px;" type="button" id="speed_unit">µl/s</button>
                                <button class="btn btn-secondary dropdown-toggle dropdown-toggle-split" type="button" id="speed_dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                <div class="dropdown-menu bg-light dropdown-menu-right" aria-labelledby="speed_dropdown">
                                    <a class="dropdown-item" href="#" id="speed_unit_uls">Flowrate (µl/s)</a>
                                    <a class="dropdown-item" href="#" id="speed_unit_s">Injection time (s)</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row form-group">
                <div class="col">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <label class="input-group-text" style="width: 80px;" id="amount_label">Amount</label>
                        </div>
                        <input type="number" class="form-control" min="0" max="50000" style="text-align:right;" name="Amount" id="amount_input" aria-describedby="helpId" placeholder="0">
                        <div class="input-group-append">
                            <button class="btn btn-secondary" style="width: 60px;" type="button" id="amount_unit">µl</button>
                            <button class="btn btn-secondary dropdown-toggle dropdown-toggle-split" type="button" id="amount_dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                            <div class="dropdown-menu bg-light dropdown-menu-right" aria-labelledby="amount_dropdown">
                                <a class="dropdown-item" href="#" id="amount_unit_volume">Volume (µl)</a>
                                <a class="dropdown-item" href="#" id="amount_unit_activity">Activity (MBq)</a>
                                <a class="dropdown-item" href="#" id="amount_unit_dosage">Dose (MBq/g)</a>
                                <a class="dropdown-item" href="#" id="amount_unit_length">Length (mm)</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row form-group collapse collapse.show" id="group_weight">
                <div class="col">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <label class="input-group-text" style="width: 80px;" id="activity_label">Weight</label>
                        </div>
                        <input type="number" class="form-control" min="0" max="5000" style="text-align:right;" name="Delay" id="weight_input" aria-describedby="helpId" placeholder="0">
                        <div class="input-group-append">
                            <button class="btn btn-secondary" style="width: 60px;" type="button">g</button>
                        </div>
                    </div>
                </div>
            </div>
        <p id="debugtext">...</p>
        </div>
    </body>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/jsrender.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/moment.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/bootstrap-datetimepicker.min.js"></script>
    <script src="js/js.cookie.js"></script>
    <!-- Ajax code for syringepump -->
    <script src="js/syringepump.js"></script>
</html>